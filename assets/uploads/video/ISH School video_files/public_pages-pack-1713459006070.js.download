(function(d){function a(){a.history=a.history||[];a.history.push(arguments);if(window.console){console.log(Array.prototype.slice.call(arguments))}}function c(m,l){let element=m.find(l);return element?element.text().trim().toLowerCase():""}function f(m,l){let elemsToHide=[];let elemsToShow=[];m.forEach(function(n){const o=n.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();if(o.indexOf(l)==-1&&n.name.indexOf(l)==-1&&n.email.indexOf(l)==-1&&n.position.indexOf(l)==-1){elemsToHide.push(n)}else{elemsToShow.push(n)}});d(elemsToShow).each(function(n,o){let $it=d(o.elem);$it.show()});d(elemsToHide).each(function(n,o){let $it=d(o.elem);$it.hide()})}function g(m){const l=m.keycode||m.which;if(l===13){e()}}function b(){d("#staff_search").val("");e()}function e(){let searchString=d("#staff_search").val().toLowerCase();if(searchString.length){d(".clear-search").css("display","block");d.each(d(".page-block"),function(l,m){if(d(m).attr("class").indexOf("staff")==-1){d(m).hide()}})}else{d(".clear-search").css("display","none");d.each(d(".page-block"),function(l,m){d(m).show()})}let staffList=[];d(".staff").each(function(l,m){let $it=d(m);let name=c($it,".name");let position=c($it,".user-position");let email=c($it,".email");staffList.push({name:name,position:position,email:email,elem:$it})});let columnList=d(".staff-directory .column");let staffBlocks=d(".page-block-staff");columnList.each(function(l,m){m.style.display="block"});staffBlocks.each(function(l,m){m.style.display="block"});f(staffList,searchString);for(let j=0;j<columnList.length;j++){let column=columnList[j];column.style.display=!d(column).find("li:visible").length?"none":"block"}for(let j=0;j<staffBlocks.length;j++){let columnListBlock=d(staffBlocks[j]).find(".staff-directory .column");let columnsElementsAreHidden=true;for(let i=0;i<columnListBlock.length;i++){let column=columnListBlock[i];if(d(column).find("li:visible").length){columnsElementsAreHidden=false}}staffBlocks[j].style.display=columnsElementsAreHidden?"none":"block"}}function h(n){try{if(n){var l=d("#header_main").css("position");if(l!=="absolute"&&l!=="fixed"){d("#content_main, #content, .content_main, .content").css("margin-top","0").css("padding-top","0")}}}catch(m){console.error("Inconvenient in method fixEdgeToEdgeHeader: "+m)}}function k(){const l=document.querySelectorAll(".page-block-text table");l.forEach(function(n){const m=n.parentNode;const o=document.createElement("div");o.style.overflowX="auto";o.style.display="flex";m.replaceChild(o,n);n.style.tableLayout="";o.appendChild(n)})}d(document).ready(function(){h(window.edlio.isEdgeToEdge);k();d(".photo-shuffle, .photo-rotator").each(function(){var p=d(this);var n=p.find(".photo-show-json").text(),m=null;try{m=JSON.parse(n)}catch(o){a("Error parsing JSON",o)}if(typeof m!="object"){a("Settings not an object");return}a("show data",m);p.slideShow({data:m});p.hover(function(){p.slideShow("showControls")},function(){p.slideShow("hideControls")})});d(".page-block-photos").magnificPopup({type:"image",delegate:"a.gallery",gallery:{enabled:true},mainClass:"mfp-with-zoom",zoom:{enabled:true,duration:300}},0);d(".collapsible-header").on("keypress click",function(p){if(p.type=="keypress"&&(p.keyCode!=13)){return}this.classList.toggle("active");this.classList.contains("active")?this.setAttribute("aria-expanded",true):this.setAttribute("aria-expanded",false);var n=d(this).find(".collapsibleIcon");var q="/apps/webapps/next/global/blazer/icons/icons.svg#caret-down";var m="/apps/webapps/next/global/blazer/icons/icons.svg#caret-right";var o=this.nextElementSibling;if(o.style.visibility==="visible"){o.style.visibility="hidden";o.style.height="0";n.attr("href",m)}else{o.style.visibility="visible";o.style.display="block";o.style.height="auto";n.attr("href",q)}});const l=[];d(".page-block-staff").each(function(m,n){l.push(n.id)});d("#staff_search").attr("aria-controls",l.join(" "));d(".staff-search-button").on("click",e);d(".clear-search").on("click",b);d("#staff_search").on("keydown",g)})})(jQuery);